# 리팩토링 계획: UI와 핵심 로직의 완전한 분리

... (이전 내용은 생략) ...

# 기능 구현 계획: 자동 완성 UI

... (이전 내용은 생략) ...

# 기능 구현 계획: 파이프(|) 및 리디렉션(>)

## 1. 목표

`ls -l | grep "src"`나 `echo "hello" > file.txt`와 같이 여러 명령어를 파이프로 연결하거나, 명령어의 출력을 파일로 리디렉션하는 기능을 구현하여 셸의 핵심 능력을 강화한다.

## 2. 세부 실행 단계

1.  **명령어 파서(Parser) 개선 (`shell/core/command_executor.rs`):**
    -   `shlex::split`을 대체하여 `|`와 `>`를 특수 토큰으로 인식하는 파서 로직을 구현한다.
    -   입력 문자열을 파이프로 연결된 여러 명령어의 목록(pipeline)과 리디렉션 정보로 분석하도록 수정한다.
    -   예: `"ls -l | grep src"` -> `[ ["ls", "-l"], ["grep", "src"] ]`
    -   예: `"echo "hello" > file.txt"` -> `[ ["echo", "hello"] ]`와 리디렉션 대상 `file.txt`로 분리한다.

2.  **파이프(`|`) 실행 로직 구현:**
    -   파이프라인을 실행하는 함수를 `shell/core/command_executor.rs`에 구현한다.
    -   `std::process::Command`를 사용하여 첫 번째 명령어의 `stdout`을 `Stdio::piped()`로 설정한다.
    -   두 번째 명령어의 `stdin`을 첫 번째 명령어의 `stdout` 핸들로 설정하여 출력을 연결한다.
    -   파이프라인의 마지막 명령어의 출력만 최종 결과로 반환한다.

3.  **리디렉션(`>`) 실행 로직 구현:**
    -   명령어 실행 시 리디렉션 대상 파일이 지정되었다면, `std::fs::File::create`로 파일을 연다.
    -   `Command`의 `stdout`을 `Stdio::from(file)`으로 설정하여 출력을 파일로 보낸다.
    -   리디렉션 시에는 화면에 출력을 표시하지 않거나, 성공/실패 메시지만 표시한다.

4.  **검증:**
    -   새로운 파서와 실행 로직에 대한 단위 테스트를 추가한다.
    -   `cargo run`으로 실제 파이프와 리디렉션이 잘 작동하는지 테스트한다.